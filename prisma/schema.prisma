// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// User
enum Role {
  Admin
  Guest
  Dev
}

// Banner
enum StatusBanner {
  Active
  Inactive
}

enum BannerType {
  HomeBanner @map("Home banner")
  TopPick @map("Top pick banner")
  MiddleBanner @map("Middle banner")
}

// Content
enum CommissionModelType {
  CPS
  CPL
  CPI
}

enum CommissionType {
  Cash
  Percent
}

enum Location {
  af
  ax
  al
  dz
  as
  ad
  ao
  ai
  aq
  ag
  ar
  am
  aw
  au
  at
  az
  bs
  bh
  bd
  bb
  by
  be
  bq
  bz
  bj
  bm
  bt
  bo
  ba
  bw
  bv
  br
  io
  bn
  bg
  bf
  bi
  kh
  cm
  ca
  cv
  ky
  cf
  td
  cl
  cn
  cx
  cc
  co
  km
  cg
  cd
  ck
  cr
  ci
  hr
  cu
  cw
  cy
  cz
  dk
  dj
  dm
  do
  ec
  eg
  sv
  gq
  er
  ee
  et
  fk
  fo
  fj
  fi
  fr
  gf
  pf
  tf
  ga
  gm
  ge
  de
  gh
  gi
  gr
  gl
  gd
  gp
  gu
  gt
  gg
  gn
  gw
  gy
  ht
  hm
  va
  hn
  hk
  hu
  is
  in
  id
  ir
  iq
  ie
  im
  il
  it
  jm
  jp
  je
  jo
  kz
  ke
  ki
  kp
  kr
  kw
  kg
  la
  lv
  lb
  ls
  lr
  ly
  li
  lt
  lu
  mo
  mk
  mg
  mw
  my
  mv
  ml
  mt
  mh
  mq
  mr
  mu
  yt
  mx
  fm
  md
  mc
  mn
  ms
  ma
  mz
  mm
  na
  nr
  np
  nl
  nc
  nz
  ni
  ne
  ng
  nu
  nf
  mp
  no
  om
  pk
  pw
  ps
  pa
  pg
  py
  pe
  ph
  pn
  pl
  pt
  pr
  qa
  re
  ro
  ru
  rw
  sh
  kn
  lc
  pm
  vc
  ws
  sm
  st
  sa
  sn
  sc
  sl
  sg
  sk
  si
  sb
  so
  ss
  sx
  za
  gs
  es
  lk
  sd
  sr
  sj
  sz
  se
  ch
  sy
  tw
  tj
  tz
  th
  tl
  tg
  tk
  to
  tt
  tn
  tr
  tm
  tc
  tv
  ug
  ua
  ae
  gb
  us
  um
  uy
  uz
  vu
  ve
  vn
  vg
  vi
  wf
  eh
  ye
  zm
  zw
  rs
  me
  xk
}

// Model
model User {
  id    Int     @id @default(autoincrement())
  email String  @unique 
  password  String
  name  String
  role  Role @default(Guest)
  createAt DateTime @default(now())
  updateAt  DateTime @updatedAt
}

model Page {
  id Int @id @default(autoincrement())
  name String
  pages Category[]
  banners Banner[]
  contents Content[]
  createAt DateTime @default(now())
  updateAt  DateTime @updatedAt
}

model Category {
  id Int @id @default(autoincrement())
  name String
  nameVN String
  shops Shop[]
  contents Content[]
  page Page @relation(fields: [pageId], references: [id])
  pageId Int
  createAt DateTime @default(now())
  updateAt  DateTime @updatedAt
}

model Product {
  id  Int @id @default(autoincrement())
  image String
  linkAffilitate String
  linkProduct String
  merchant String
  discountRate Float
  name String
  description String
  price Float
  discountAmount Float
  discount Float
  productId String @unique
  createAt DateTime @default(now())
  updateAt  DateTime @updatedAt
}

model Shop {
  id  Int @id @default(autoincrement())
  logo String
  name String
  max_com String
  url String
  action_point String
  commission_policy String
  cookie_policy String
  introduction String
  other_notice String
  rejected_reason String
  traffic_building_policy String
  categoryId Int
  campaignId String @unique
  category Category @relation(fields: [categoryId], references: [id])
  createAt DateTime @default(now())
  updateAt  DateTime @updatedAt
}

model Banner {
  id  Int @id @default(autoincrement())
  image String
  landingPageUrl String
  bannerPosition Int
  pageId Int
  bannerType BannerType
  airTimeCreate DateTime
  airTimeEnd DateTime
  page Page @relation(fields: [pageId], references: [id])
  status StatusBanner @default(Inactive)
  createAt DateTime @default(now())
  updateAt  DateTime @updatedAt
}

model Content {
  id Int @id @default(autoincrement())
  pageId Int
  categoryId Int
  commissionModel CommissionModelType
  commissionType CommissionType
  commissionValue String
  image String
  title String
  description String
  location Location
  url String
  page Page @relation(fields: [pageId], references: [id])
  category Category @relation(fields: [categoryId], references: [id])
  createAt DateTime @default(now())
  updateAt  DateTime @updatedAt
}